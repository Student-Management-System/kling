<button
	*ngIf="file$ | async as file"
	class="file-tab-btn"
	[class.selected]="selected"
	(click)="tabSelected.emit(path)"
	(middleclick)="tabClosed.emit(path)"
	data-test="file-tab"
>
	<div class="flex h-full w-full items-center gap-2 text-light">
		<web-ide-file-icon
			class="mt-[-5px]"
			[language]="file.name | programmingLanguage"
		></web-ide-file-icon>
		<span class="tab-name mt-[-2px]">{{ file.name }}</span>
		<button class="h-4 w-4 rounded hover:bg-[#a1a1a141]" (click)="tabClosed.emit(path)">
			<web-ide-icon
				*ngIf="!file.hasUnsavedChanges"
				class="icon-light absolute mt-[-10px] ml-[-7px]"
				size="14"
				name="clear"
			></web-ide-icon>

			<web-ide-icon
				class="text absolute mt-[-10px] ml-[-5px]"
				*ngIf="file.hasUnsavedChanges"
				name="lens"
				size="8"
				data-test="fileTab_unsavedChangesIndicator"
			></web-ide-icon>
		</button>
	</div>
</button>
