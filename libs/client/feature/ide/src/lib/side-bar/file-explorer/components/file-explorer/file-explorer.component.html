<div
	class="file-explorer"
	dropZone
	(hovered)="toggleHover($any($event))"
	(drop)="onDrop($event)"
	[class.hovering]="isHovering"
	*ngIf="{ selectedFilePath: selectedFilePath$ | async } as obs"
>
	<div class="directories" *ngIf="directories$ | async as directories">
		<ng-container *ngFor="let dir of directories">
			<kling-directory
				[directory]="dir"
				[selectedFilePath]="obs.selectedFilePath"
			></kling-directory>
		</ng-container>
	</div>

	<div
		*ngIf="files$ | async as files"
		[id]="''"
		cdkDropList
		[cdkDropListData]="files"
		(cdkDropListDropped)="drop($event)"
		[cdkDropListConnectedTo]="dragAndDrop.dropListIds"
	>
		<kling-file
			*ngFor="let file of files"
			[file]="file"
			[isSelected]="obs.selectedFilePath === file.path"
			cdkDrag
			[cdkDragData]="file"
		></kling-file>
	</div>
</div>
