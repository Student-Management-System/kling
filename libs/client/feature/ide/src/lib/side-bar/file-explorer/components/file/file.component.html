<div
	class="file"
	data-cy="file"
	[class.selected]="isSelected"
	[class.notselected]="!isSelected"
	data-test="file"
>
	<button (click)="openFile()" (middleclick)="openFile()" [contextMenu]="fileContextMenu">
		<span class="flex w-full content-center justify-between">
			<span class="flex gap-2">
				<web-ide-file-icon [language]="file.name | programmingLanguage"></web-ide-file-icon>
				<span>{{ file.name }}</span>
			</span>
			<span class="px-2"
				><web-ide-icon
					*ngIf="file.hasUnsavedChanges"
					name="lens"
					size="8"
					class="text"
					data-test="unsavedChangesIndicator"
				></web-ide-icon
			></span>
		</span>
	</button>

	<context-menu #fileContextMenu class="context-menu">
		<ng-template contextMenuItem (execute)="markAsEntryPoint()">
			<span class="context-menu-item" data-test="markAsEntryPointBtn"
				><web-ide-icon name="play_arrow" class="icon-light"></web-ide-icon
				>{{ "Action.Custom.MarkAsEntryPoint" | translate }}</span
			>
		</ng-template>

		<ng-template contextMenuItem (execute)="removeFileIfConfirmed()">
			<span class="context-menu-item" data-test="deleteBtn"
				><web-ide-icon class="icon-light" name="delete"></web-ide-icon
				>{{ "Action.Delete" | translate }}</span
			>
		</ng-template>
	</context-menu>
</div>
