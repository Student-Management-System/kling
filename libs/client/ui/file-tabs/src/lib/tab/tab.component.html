<button
	*ngIf="file$ | async as file"
	class="file-tab-btn"
	[class.selected]="selected"
	mat-flat-button
	disableRipple="true"
	(click)="tabSelected.emit(path)"
	(middleclick)="tabClosed.emit(path)"
	data-test="file-tab"
>
	<div class="flex items-center w-full h-full gap-2 inner-tab">
		<app-file-icon
			class="mt-[-4px]"
			[language]="file.name | programmingLanguage"
		></app-file-icon>
		<span class="tab-name">{{ file.name }}</span>
		<button mat-mini-fab class="clear-btn mat-elevation-z0" (click)="tabClosed.emit(path)">
			<app-icon
				*ngIf="!file.hasUnsavedChanges"
				class="absolute mt-[-18px] -ml-2 icon-light"
				size="16"
				name="clear"
			></app-icon>

			<app-icon
				class="absolute mt-[-18px] -ml-1 text"
				*ngIf="file.hasUnsavedChanges"
				name="lens"
				size="8"
				data-test="fileTab_unsavedChangesIndicator"
			></app-icon>
		</button>
	</div>
</button>
